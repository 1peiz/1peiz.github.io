

---
layout: post
toc: true
title: "计组复习"
categories: Code
tags: [Technique]
author:
  - Chris Chen
---



## 第四章 指令系统

<img src = "https://img-blog.csdnimg.cn/20210119195316544.png?,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hhb2ppZV9kdWFu,size_16,color_FFFFFF,t_70"/>

【复习提示】
指令系统是表征一台计算机性能的重要因素。读者应注意扩展操作码技术，各种寻址方式的特点及有效地址的计算，相对寻址有关的计算，CISC与RISC的特点与区别。本章知识点出选择题的概率较大，但也有可能结合其他章节出有关指令的综合题。2014年、2015年已连续两次出现指令系统和指令流水线的大题。指令系统格式和指令寻址方式与CPU指令执行过程部分紧密结合，希望读者引起重视。

在学习本章时，请读者思考以下问题

1)什么是指令？什么是指令系统？为什么要引入指令系统？

* 计算机执行某种操作的命令, 计算机运行的最小功能单位
* 一台计算机所有指令的集合构成该机的指令系统, 也叫做指令集

2)一般来说，指令分为哪些部分？每部分有什么用处？
3)对于一个指令系统来说，寻址方式多和少有什么影响？
请读者在本章的学习过程中寻找答案，本章末尾会给出参考答案。





## 第五章 中央处理器

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210119195152802.png?,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hhb2ppZV9kdWFu,size_16,color_FFFFFF,t_70)


【复习提示】
中央处理器是计算机的中心，也是本书的难点。其中，数据通路的分析、指令执行阶段的节拍与控制信号的安排、流水线技术与性能分析易出综合题。而关于各种寄存器的特点、指令执行的各种周期与特点、控制器的相关概念、流水线的相关概念也极易出选择题。

在学习本章时，请读者思考以下问题

1)CPU分为哪几部分？分别实现什么功能？
2)指令和数据均存放在内存中，计算机如何从时间和空间上区分它们是指令还是数据？
3)什么是指令周期、机器周期和时钟周期？它们之间有何关系？
4)指令周期是否有一个固定值？为什么？
5)什么是微指令？它和第4章谈到的指令有什么关系？
6)什么是指令流水线？指令流水线相对于传统计算机体系结构的优势是什么？如何计算指令流水线的加速比？
请读者在本章的学习过程中寻找答案，本章末尾会给出参考答案。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210119105804227.png?type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hhb2ppZV9kdWFu,size_16,color_FFFFFF,t_70)

【复习提示】
中央处理器是计算机的中心，也是本书的难点。其中，数据通路的分析、指令执行阶段的节拍与控制信号的安排、流水线技术与性能分析易出综合题。而关于各种寄存器的特点、指令执行的各种周期与特点、控制器的相关概念、流水线的相关概念也极易出选择题。

在学习本章时，请读者思考以下问题：

1)CPU分为哪几部分？分别实现什么功能？
2)指令和数据均存放在内存中，计算机如何从时间和空间上区分它们是指令还是数据？
3)什么是指令周期、机器周期和时钟周期？它们之间有何关系？
4)指令周期是否有一个固定值？为什么？
5)什么是微指令？它和第4章谈到的指令有什么关系？
6)什么是指令流水线？指令流水线相对于传统计算机体系结构的优势是什么？如何计算指令流水线的加速比？
请读者在本章的学习过程中寻找答案，本章末尾会给出参考答案。

5.6本章开头提出的问题回答
1)CPU分为哪几部分？分别实现什么功能？
1)CPU分为哪几部分？分别实现什么功能？

CPU分为运算器和控制器。其中运算器主要负责数据的加工，即对数据进行算术和逻辑运算控制器是整个系统的指挥中枢，对整个计算机系统进行有效的控制，包括指令控制、操作控制、时间控制和中断处理。
2)指令和数据均存放在内存中，计算机如何从时间和空间上区分它们是指令还是数据？
2)指令和数据均存放在内存中，计算机如何从时间和空间上区分它们是指令还是数据？

从时间上讲，取指令事件发生在“取指周期”，取数据事件发生在“执行周期”。从空间上讲，从内存读出的指令流流向控制器（指令寄存器），从内存读出的数据流流向运算器（通用寄存器）。
3)什么是指令周期、机器周期和时钟周期？它们之间有何关系？
3)什么是指令周期、机器周期和时钟周期？它们之间有何关系？

CPU每取出并执行一条指令所需的全部时间称为指令周期；机器周期是在同步控制的机器中，执行指令周期中一步相对完整的操作（指令步）所需的时间，通常安排机器周期长度=主存周期；时钟周期是指计算机主时钟的周期时间，它是计算机运行时最基本的时序单位，对应完成一个微操作所需的时间，通常时钟周期=计算机主频的倒数
4)指令周期是否有一个固定值？为什么？
4)指令周期是否有一个固定值？为什么？

由于计算机中各种指令执行所需的时间差异很大，因此为了提高CPU的运行效率，即使在同步控制的机器中，不同指令的指令周期长度都是不一致的，即指令周期对不同的指令来说不是个固定值。
5)什么是微指令？它和第4章谈到的指令有什么关系？
5)什么是微指令？它和第4章谈到的指令有什么关系？

控制部件通过控制线向执行部件发出各种控制命令，通常把这种控制命令称为微命令，而一组实现一定操作功能的微命令的组合，构成一条微指令。许多条微指令组成的序列构成微程序，微程序完成对指令的解释执行。指令，即指机器指令。每条指令可以完成一个独立的算术运算或逻辑运算操作。在采用微程序控制器的CPU中，一条指令对应一个微程序，一个微程序由许多微指令构成，一条微指令会发出很多不同的微命令。
6)什么是指令流水线？指令流水线相对于传统计算机体系结构的优势是什么？如何计算指令流水线的加速比？
6)什么是指令流水线？指令流水线相对于传统计算机体系结构的优势是什么？如何计算指令流水线的加速比？

指令流水线是把指令分解为若干子过程，通过将每个子过程与其他子过程并行执行，来提高计算机的吞吐率的技术。采用流水线技术只需增加少量硬件就能把计算机的运算速度提高几倍，因此成为计算机中普遍使用的一种并行处理技术，通过在同一个时间段使用各功能部件，使得利用率明显提高。
流水线的加速比指的是完成同样一批任务，不使用流水线所用的时间与使用流水线所用的时间之比。一条k段流水线理论上的最大加速比为Smax=k。因此，在现代计算机中提高流水线段数有利于提高计算机的吞吐量。具体的加速比要使用时空图来计算。
5.7 常见问题
1.流水线越多，并行度就越高。是否流水段越多，指令执行越快？
1.流水线越多，并行度就越高。是否流水段越多，指令执行越快？

错误，因为如下：
1)流水段缓冲之间的额外开销增大。每个流水段有一些额外开销用于缓冲间传送数据、进行各种准备和发送等功能，这些开销加长了一条指令的整个执行时间，当指令间逻辑上相互依赖时，开销更大。
2)流水段间控制逻辑变多、变复杂。用于流水线优化和存储器（或寄存器）冲突处理的控制逻辑将随流水段的增加而大增，这可能导致用于流水段之间控制的逻辑比段本身的控制逻辑更复杂。
2.有关指令相关、数据相关的几个概念
2.有关指令相关、数据相关的几个概念

1)两条连续的指令读取相同的寄存器时，会产生读后读( Read After Read,RAR)相关，这种相关不会影响流水线。
2)某条指令要读取上一条指令所写入的寄存器时，会产生写后读( Read After Write,RAW)相关，它称数据相关或真相关，影响流水线。按序流动的流水线只可能出现RAW相关。
3)某条指令的上条指令要读/写该指令的输出寄存器时，会产生读后写（ Write After Read,WAR)和写后写( Write After Write,WAW)相关。在非按序流动的流水线中，既可能发生RAW相关，又可能发生WAR相关和WAW相关。
对流水线影响最严重的指令相关是数据相关。

# 第六章 总线

本章的知识点较少，其中总线仲裁及总线操作和定时方式是难点。本章内容通常以选择题的形式出现，特别是系统总线的特点、性能指标、各种仲裁方式的特点、异步定时方式及常见的总线标准和特点等。总线带宽的计算也可能结合其他章节出综合题

在学习本章时，请读者思考以下问题：

1)引入总线结构有什么好处？
2)引入总线结构会导致什么问题？如何解决？
请读者在学习本章的过程中寻找答案，本章末尾会给出参考答案。
![在这里插入图片描述](https://img-blog.csdnimg.cn/2021012008075435.png?,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hhb2ppZV9kdWFu,size_16,color_FFFFFF,t_70)

6.5本章开头提出的问题回答
1)引入总线结构有什么好处？
1)引入总线结构有什么好处？

引入总线结构主要有以下优点
①简化了系统结构，便于系统设计制造。
②大大减少了连线数目，便于布线，减小体积，提高系统的可靠性
③便于接口设计，所有与总线连接的设备均采用类似的接口。
④便于系统的扩充、更新与灵活配置，易于实现系统的模块化
⑤便于设备的软件设计，所有接口的软件对不同的接口地址进行操作。
⑥便于故障诊断和维修，同时也能降低成本。
2)引入总线会导致什么问题？如何解决？
2)引入总线会导致什么问题？如何解决？

引入总线后，总线上的各个设备分时共享同一总线，当总线上多个设备同时要求使用总线时就会导致总线的冲突。为解决多个主设备同时竞争总线控制权的问题，应当采用总线仲裁部件，以某种方式选择一个主设备优先获得总线控制权，只有获得了总线控制权的设备才能开始数据传送。
6.6 常见问题
1.同一个总线不能既采用同步方式又采用异步方式通信吗？
1.同一个总线不能既采用同步方式又采用异步方式通信吗？

半同步通信总线可以。这类总线既保留了同步通信的特点，又能采用异步应答方式连接速度相差较大的设备。通过在异步总线中引入时钟信号，其就绪和应答等信号都在时钟的上升沿或下降沿有效，而不受其他时间的信号干扰。
例如，某个采用半同步方式的总线总是从某个时钟开始，在每个时钟到来时，采样Wait信号，若无效，则说明数据未准备好，下个时钟到来时，再采样Wait信号，直到检测到有效，再去数据线上取数据。PCI总线也是一种半同步总线，它的所有事件都在时钟下降沿同步，总线设备在时钟开始的上升沿采样总线信号。
2.一个总线在某一时刻可以有多对主从设备进行通信吗？
2.一个总线在某一时刻可以有多对主从设备进行通信吗？

不可以。在某个总线周期内，总线上只有一个主设备控制总线，选择一个从设备与之进行通信（即一对一的关系），或对所有设备进行广播通信（即一对多的关系）。所以一个总线在某一时刻不能有多对主从设备进行通信，否则会发生数据冲突。


# 第七章 输入/输出系统

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210119200603623.png?,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hhb2ppZV9kdWFu,size_16,color_FFFFFF,t_70)

复习提示】
I/O方式是本章的重点和难点，每年不仅会以选择题的形式考查基本概念和原理，而且可能会以综合题的形式考査，特别是各种IO方式效率的相关计算，中断方式的各种原理、特点、处理过程、中断屏蔽，DMA方式的特点、传输过程、与中断方式的区别等。

在学习本章时，请读者思考以下问题

1)IO设备有哪些编址方式？各有何特点？
2)CPU响应中断应具备哪些条件？
请读者在学习本章的过程中寻找答案，本章末尾会给出参考答案。

7.5 本章开头提出的问题回答
1)I/O设备有哪些编址方式？各有何特点？
1)I/O设备有哪些编址方式？各有何特点？

统一编址和独立编址。统一编址是在主存地址中划出一定的范围作为I/O地址，以便通过访存指令即可实现对I/O的访问，但主存的容量相应减少。独立编址是指IO地址和主存是分开的，I/O地址不占主存空间，但访存需专门的I/O指令。

2)CPU响应中断应具备哪些条件？
2)CPU响应中断应具备哪些条件？

①在CPU内部设置的中断屏蔽触发器必须是开放的
②外设有中断请求时，中断请求触发器必须处于“1”状态，保持中断请求信号。
③外设(接ロ)中断允许触发器必须为“1”，这样才能把外设中断请求送至CPU。
具备上述三个条件时，CPU在现行指令结束的最后一个状态周期响应中断。
7.6 常见问题
1.中断响应优先级和中断处理优先级分别指什么？
1.中断响应优先级和中断处理优先级分别指什么？

中断响应优先级是由硬件排队线路或中断查询程序的查询顺序决定的，不可动态改变；而中断处理优先级可以由中断屏蔽字来改变，反映的是正在处理的中断是否比新发生的中断的处理优先级低(屏蔽位为“0”，对新中断开放)，若是，则中止正在处理的中断，转到新中断去处理，
处理完后再回到刚才被中止的中断继续处理。
2.向量中断、中断向量、向量地址三个概念是什么关系？
2.向量中断、中断向量、向量地址三个概念是什么关系？

中断向量：每个中断源都有对应的处理程序，这个处理程序称为中断服务程序，其入口地址称为中断向量。所有中断的中断服务程序入口地址构成一个表，称为中断向量表；也有的机器把中断服务程序入口的跳转指令构成一张表，称为中断向量跳转表。
向量地址：中断向量表或中断向量跳转表中每个表项所在的内存地址或表项的索引值，称为向量地址或中断类型号。
向量中断：指一种识别中断源的技术或方式。识别中断源的目的是找到中断源对应的中断服务程序的入口地址的地址，即获得向量地址。
3.程序中断和调用子程序有何区别？
3.程序中断和调用子程序有何区别？

两者的根本区别主要表现在服务时间和服务对象上不一样。
1)调用子程序过程发生的时间是已知的和固定的，即在主程序中的调用指令(CALL)执行时发生主程序调用子程序过程，调用指令所在位置是已知的和固定的。而中断过程发生的时间一般是随机的，CPU在执行某个主程序时收到中断源提出的中断申请，就发生中断过程，而中断申请一般由硬件电路产生，申请提出时间是随机的。也可以说，调用子程序是程序设计者事先安排的，而执行中断服务程序是由系统工作环境随机决定的
2)子程序完全为主程序服务，两者属于主从关系。主程序需要子程序时就去调用子程序，并把调用结果带回主程序继续执行。而中断服务程序与主程序二者一般是无关的，不存在谁为谁服务的问题，两者是平行关系。
3)主程序调用子程序的过程完全属于软件处理过程，不需要专门的硬件电路；而中断处理系统是一个软/硬件结合的系统，需要专门的硬件电路才能完成中断处理的过程
4)子程序嵌套可实现若干级，嵌套的最多级数受计算机内存开辟的堆栈大小限制；而中断嵌套级数主要由中断优先级来决定，一般优先级数不会很大。
从宏观上看，虽然程序中断方式克服了程序査询方式中的CPU“踏步”现象，实现了CPU与I/O并行工作，提高了CPU的资源利用率，但从微观操作分析，CPU在处理中断服务程序时，仍需暂停原程序的正常运行，尤其是当高速I/O设备或辅助存储器频繁地、成批地与主存交换信息时，需要不断打断CPU执行现行程序，而执行中断服务程序。
4.IO指令和通道指令有何区别？
4.IO指令和通道指令有何区别？

I/O指令是CPU指令系统的一部分，是CPU用来控制输入/输出操作的指令，由CPU译码后执行。在具有通道结构的机器中，I/O指令不实现I/O数据传送，主要完成启、停I/O设备，査询通道和I/O设备的状态，及控制通道进行其他一些操作等。
通道指令是通道本身的指令，用来执行I/O操作，如读、写、磁带走带及磁盘找道等操作。

原文链接：https://blog.csdn.net/haojie_duan/article/details/112739522