## Java  -  接口回调

### 回调机制

#### 什么是回调机制
对于一个具有通用性质的程序框架来说，程序架构完成整个应用的通用功能、流程，但在某个特定的点上，需要一段业务相关的代码——通用程序架构无法完成这段代码，那么程序架构会在这个点上留一个“空”。  
对于Java程序来说，程序架构在某个点上留的”空“，有2种实现方式  
- 以接口形式存在
- 以抽象方法的形式存在


### 接口回调

#### 满足回调的两个条件
* Class A调用Class B的X方法
* Class B中X方法执行过程中调用Class A中的Y方法完成回调


### 接口回调机制

#### 定义
单纯的通知机制  
* 单纯的通知
* 通知+传值

### 同步，异步，回调，轮询

* 同步：点了汉堡，必须在此等五分钟且不能做其它事，拿到汉堡后，才能做其他事
* 异步：点了汉堡，可以先做其他事，五分钟后服务员发来消息通知你，你再去拿汉堡
* 回调（通知方法）：服务员直接跑来找你
* 轮询（通知方法）：服务员发短信通知你，你得不停地检查手机消息
* 总结： 异步复杂度远超过同步

### 回调函数
1. 回调函数： 你的电话号码
2. 登记回调函数：你把电话号码留给店员
3. 触发回调事件：店里后来有货
4. 调用回调函数：店员打你电话叫你去拿货
5. 响应回调事件：你到店里取货 

#### 回调函数定义
一个函数A，让预先的系统来调用。A调用系统的函数，叫做直调。系统调用你的函数，叫做回调。  
简而言之就是让别人做事并传入额外信息。  

* 信息的push：属于被动的，系统从外面传进来
* 信息的pull：主动的，A主动想外面申请
* callback：A让B排序，B会排序，但不知道怎么比大小，需要传入一个A的函数来告诉B ，这里本来A调用B的，但B有使用A的信息，这叫做callback


### Java - 闭包

#### 什么是闭包
<img src = "https://i.postimg.cc/SN2k9JKc/Screenshot-20220526-181406-Kiwi-Browser.jpg"/>

* 调用了局部变量的函数就是闭包函数
* 当内嵌函数体内引用到了体外的变量时，将会把定义时涉及到的引用环境和函数打包成一个整体（闭包）返回
* 纯的函数是没有状态的，加入了闭包后就变成了有状态的了  

